<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Car Park Landing - Manager Page </title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="grid-container">
        <div class="grid-title">
            <img class="dash-manager-img" src="css/images/managericon.png" alt="logo">
            <h3> MANAGER DASHBOARD </h3>
            <input type="button" name="changepass" class="button_active" value="CHANGE PASSWORD" onclick="location.href='changePasswordManager.html';" />
            <input type="button" name="logout" class="button_active" value="LOG OUT" onclick="location.href='Homepage.html';" />
        </div>
        <div class="grid-sidebar">
            <form class="gs-box" action="/post-happyhour" method="POST">
                <br>
                <img class="dashboard-img" src="css/images/happyhouricon.png" alt="logo">
                <h3> SET HAPPY HOUR </h3>

                Hours:
                <input type="text" name="hours">
                <input type="submit" name="" value="SUBMIT">
                <br>
            </form>
        </div>

        <div class="grid-content-a">
            <br>
            <img class="dashboard-img" src="css/images/reporticon.png" alt="logo">
            <br>
            <input type="button" name="" value="GET REPORT" onclick="location.href= 'reportLanding.html';"> <br> <br> <br>
            <input type="button" name="" value="NEW MANAGER" onclick="location.href= 'newManager.html';">
            <form class="grid-content-a" action="/report-timings" method="POST">
                Choose report time slot: <br>
                From: Until:<br>
                <input type="datetime-local" name="startTime">

                <input type="datetime-local" name="endTime">
                <input type="submit" name="" value="SUBMIT" onclick="location.href='manualReport.html'">
            </form>
            <!--<div class ="chart-box" >
                <canvas id="myChart" height="75px" width="75px"></canvas>
            </div>-->
            <!--<script>
                fetch('/manual-report').then(function(response){
                    return response.json();
                    }).then(function ({custoIn,residIn, emploIn, timings}) {
                        console.log('MY ARRAY', data);
                        custoIn = date[0];
                        residIn = date[1];
                        emploIn = date[2];
                        timings = date[3];
                        ChartInitialise(custoIn, residIn, emploIn, timings)
                    })
            </script>-->
        </div>
        <div class="grid-content-b">
            <br>
            <img class="dashboard-img" src="css/images/charticon.png" alt="logo">
            <br>

            <input type="button"  value="VIEW TICKET ENTRIES" onclick="location.href='/view-tickets';" />
            <br>
            <input type="button"  value="VIEW MANAGERS" onclick="location.href='/view-manager';" />
            <br>
            <input type="button"  value="VIEW HAPPY HOUR LOG" onclick="location.href='/view-hh';" />
            <br>
        </div>
        <br>
    </div>

    <footer id="footer">
        Group 8
    </footer>
    <script>
        function ChartInitialise (custoIn, residIn, emploIn, timings){

            let myChart = document.getElementById('myChart').getContext('2d');
            myChart.canvas.parentNode.style.height = '512px';
            myChart.canvas.parentNode.style.width = '512px';


            let newChart = new Chart(myChart, {
                type: 'bar',
                data: {
                    labels: timings,
                    datasets: [{
                        label: 'Customer',
                        data: custoIn,
                        backgroundColor: '#3a96f2',
                        hoverBorderWidth: 6,
                        hoverBorderColor: '#969696'
                    }
                    {
                        label: 'Resident',
                        data: residIn,
                        backgroundColor: '#21C085',
                        hoverBorderWidth: 6,
                        hoverBorderColor: '#969696'
                    }{
                        label: 'Employee',
                        data: emploIn,
                        backgroundColor: '#2166C0',
                        hoverBorderWidth: 6,
                        hoverBorderColor: '#969696'
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Automatic report',
                        fontSize: 20
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            },

                            display: true,
                        }]
                    }


                }
            });
        }
    </script>
</body>

</html>
